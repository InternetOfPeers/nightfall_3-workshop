#!/usr/bin/env node

// This script checks if the required environment variables for the workshop
// are set in the current terminal session. If any variable is missing,
// it will print an error message and exit with a non-zero status code.

const REQUIRED_ENV_VARS = [
  "NATIVE_ACCOUNT_ID",
  "NATIVE_ADDRESS",
  "NATIVE_PRIVATE_KEY",
  "EVM_ACCOUNT_ID",
  "EVM_ADDRESS",
  "EVM_PRIVATE_KEY",
];

const missingVars = [];

for (const varName of REQUIRED_ENV_VARS) {
  if (!process.env[varName]) {
    missingVars.push(varName);
  }
}

if (missingVars.length > 0) {
  console.log(
    "Warning: The following required environment variables are not set:",
  );
  for (const varName of missingVars) {
    console.log(`  - ${varName}`);
  }
  console.log(
    "Please set these variables in your terminal session or add them to your shell profile (e.g., .bashrc, .zshrc) and try again.",
  );
  process.exit(1);
} else {
  console.log("All required environment variables are set.");
}
